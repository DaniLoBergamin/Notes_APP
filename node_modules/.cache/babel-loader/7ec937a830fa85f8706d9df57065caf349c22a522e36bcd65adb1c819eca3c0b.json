{"ast":null,"code":"// Calls to user endpoints.\n\nimport Api from \"./api\";\nconst UserService = {\n  register: params => Api.post(\"/users/register\", params),\n  login: async params => {\n    const response = await Api.post(\"/users/login\", params);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n    localStorage.setItem('token', response.data.token);\n  },\n  // Deleting USER and TOKEN from localStorage (LOGOUT).\n  logout: () => {\n    localStorage.removeItem('user', null);\n    localStorage.removeItem('token', null);\n  },\n  // Update user.\n  update: async params => {\n    const response = await Api.put(\"/users\", params, {\n      headers: {\n        'x-access-token': localStorage.getItem('token')\n      }\n    });\n    localStorage.setItem('user', JSON.stringify(response.data));\n  },\n  // Update password.\n  updatePassword: async params => {\n    await Api.put(\"/users/password\", params, {\n      headers: {\n        'x-access-token': localStorage.getItem('token')\n      }\n    });\n  },\n  // Delete user.\n  delete: async () => {\n    await Api.delete(\"/users\", {\n      headers: {\n        'x-access-token': localStorage.getItem('token')\n      }\n    });\n    // null - User no longer exists.\n    localStorage.removeItem('user', null);\n    localStorage.removeItem('token', null);\n  }\n};\nexport default UserService;","map":{"version":3,"names":["Api","UserService","register","params","post","login","response","localStorage","setItem","JSON","stringify","data","user","token","logout","removeItem","update","put","headers","getItem","updatePassword","delete"],"sources":["C:/APP_Evernote/javascript_note/src/services/users.js"],"sourcesContent":["// Calls to user endpoints.\r\n\r\nimport Api from \"./api\";\r\n\r\nconst UserService = {\r\n    register: (params) => Api.post(\"/users/register\", params),\r\n    login: async (params) => {\r\n        const response = await Api.post(\"/users/login\", params);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n        localStorage.setItem('token', response.data.token);\r\n    },\r\n\r\n    // Deleting USER and TOKEN from localStorage (LOGOUT).\r\n    logout: () => {\r\n        localStorage.removeItem('user', null);\r\n        localStorage.removeItem('token', null);\r\n    },\r\n\r\n    // Update user.\r\n    update: async (params) => {\r\n        const response = await Api.put(\"/users\", params, {\r\n            headers: {'x-access-token': localStorage.getItem('token')}\r\n        })\r\n        localStorage.setItem('user', JSON.stringify(response.data));\r\n    },\r\n\r\n    // Update password.\r\n    updatePassword: async (params) => {\r\n        await Api.put(\"/users/password\", params, {\r\n            headers: {'x-access-token': localStorage.getItem('token')}\r\n        })\r\n    },\r\n\r\n    // Delete user.\r\n    delete: async () => {\r\n        await Api.delete(\"/users\", {\r\n            headers: {'x-access-token': localStorage.getItem('token')}\r\n        })\r\n        // null - User no longer exists.\r\n        localStorage.removeItem('user', null);\r\n        localStorage.removeItem('token', null);\r\n    }\r\n}\r\n\r\nexport default UserService;"],"mappings":"AAAA;;AAEA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,GAAG;EAChBC,QAAQ,EAAGC,MAAM,IAAKH,GAAG,CAACI,IAAI,CAAC,iBAAiB,EAAED,MAAM,CAAC;EACzDE,KAAK,EAAE,MAAOF,MAAM,IAAK;IACrB,MAAMG,QAAQ,GAAG,MAAMN,GAAG,CAACI,IAAI,CAAC,cAAc,EAAED,MAAM,CAAC;IACvDI,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAACK,IAAI,CAACC,IAAI,CAAC,CAAC;IAChEL,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACK,IAAI,CAACE,KAAK,CAAC;EACtD,CAAC;EAED;EACAC,MAAM,EAAEA,CAAA,KAAM;IACVP,YAAY,CAACQ,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC;IACrCR,YAAY,CAACQ,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC;EAC1C,CAAC;EAED;EACAC,MAAM,EAAE,MAAOb,MAAM,IAAK;IACtB,MAAMG,QAAQ,GAAG,MAAMN,GAAG,CAACiB,GAAG,CAAC,QAAQ,EAAEd,MAAM,EAAE;MAC7Ce,OAAO,EAAE;QAAC,gBAAgB,EAAEX,YAAY,CAACY,OAAO,CAAC,OAAO;MAAC;IAC7D,CAAC,CAAC;IACFZ,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC/D,CAAC;EAED;EACAS,cAAc,EAAE,MAAOjB,MAAM,IAAK;IAC9B,MAAMH,GAAG,CAACiB,GAAG,CAAC,iBAAiB,EAAEd,MAAM,EAAE;MACrCe,OAAO,EAAE;QAAC,gBAAgB,EAAEX,YAAY,CAACY,OAAO,CAAC,OAAO;MAAC;IAC7D,CAAC,CAAC;EACN,CAAC;EAED;EACAE,MAAM,EAAE,MAAAA,CAAA,KAAY;IAChB,MAAMrB,GAAG,CAACqB,MAAM,CAAC,QAAQ,EAAE;MACvBH,OAAO,EAAE;QAAC,gBAAgB,EAAEX,YAAY,CAACY,OAAO,CAAC,OAAO;MAAC;IAC7D,CAAC,CAAC;IACF;IACAZ,YAAY,CAACQ,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC;IACrCR,YAAY,CAACQ,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC;EAC1C;AACJ,CAAC;AAED,eAAed,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}