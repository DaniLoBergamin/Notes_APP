{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { Generic } from \"../../base\";\nimport { combineRefs } from \"../../utils\";\nimport { DropdownContext } from \"./dropdown-context\";\nexport const DROPDOWN_DEFAULTS = {\n  alignments: [\"right\"]\n};\nconst initialState = {\n  active: false\n};\nexport class DropdownContainer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef();\n    this.handleClick = event => {\n      if (this.props.managed !== true && this.active && this.ref.current !== null) {\n        if (event.target instanceof Element && !this.ref.current.contains(event.target)) {\n          this.active = false;\n        }\n      }\n    };\n    this.state = {\n      active: props.active === true\n    };\n  }\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClick);\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClick);\n  }\n  render() {\n    const _a = this.props,\n      {\n        active,\n        align,\n        className,\n        hoverable,\n        innerRef,\n        managed,\n        up\n      } = _a,\n      rest = tslib_1.__rest(_a, [\"active\", \"align\", \"className\", \"hoverable\", \"innerRef\", \"managed\", \"up\"]);\n    return React.createElement(DropdownContext.Provider, {\n      value: {\n        active: this.active,\n        setActive: value => this.active = value\n      }\n    }, React.createElement(Generic, Object.assign({\n      className: classNames(\"dropdown\", {\n        [`is-${align}`]: align,\n        \"is-active\": this.active,\n        \"is-hoverable\": hoverable,\n        \"is-up\": up\n      }, className),\n      ref: combineRefs(this.ref, innerRef)\n    }, rest)));\n  }\n  get active() {\n    return this.props.managed === true ? this.props.active === true : this.state.active;\n  }\n  set active(value) {\n    if (this.props.managed !== true) {\n      this.setState({\n        active: value\n      });\n    }\n  }\n}\nDropdownContainer.displayName = \"Dropdown.Container\";","map":{"version":3,"names":["classNames","React","Generic","combineRefs","DropdownContext","DROPDOWN_DEFAULTS","alignments","initialState","active","DropdownContainer","PureComponent","constructor","props","ref","createRef","handleClick","event","managed","current","target","Element","contains","state","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","_a","align","className","hoverable","innerRef","up","rest","tslib_1","__rest","createElement","Provider","value","setActive","Object","assign","setState","displayName"],"sources":["../../../src/components/dropdown/dropdown-container.tsx"],"sourcesContent":[null],"mappings":";AAAA,OAAOA,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,OAAO,QAAQ,YAAY;AAGpC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,eAAe,QAAQ,oBAAoB;AAEpD,OAAO,MAAMC,iBAAiB,GAAG;EAC/BC,UAAU,EAAE,CAAC,OAAO;CACrB;AA0BD,MAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE;CACT;AAID,OAAM,MAAOC,iBAAkB,SAAQR,KAAK,CAACS,aAG5C;EAKCC,YAAYC,KAA6B;IACvC,KAAK,CAACA,KAAK,CAAC;IAHG,KAAAC,GAAG,GAAGZ,KAAK,CAACa,SAAS,EAAe;IAgEpC,KAAAC,WAAW,GAAIC,KAAiB,IAAI;MACnD,IACE,IAAI,CAACJ,KAAK,CAACK,OAAO,KAAK,IAAI,IAC3B,IAAI,CAACT,MAAM,IACX,IAAI,CAACK,GAAG,CAACK,OAAO,KAAK,IAAI,EACzB;QACA,IACEF,KAAK,CAACG,MAAM,YAAYC,OAAO,IAC/B,CAAC,IAAI,CAACP,GAAG,CAACK,OAAO,CAACG,QAAQ,CAACL,KAAK,CAACG,MAAM,CAAC,EACxC;UACA,IAAI,CAACX,MAAM,GAAG,KAAK;;;IAGzB,CAAC;IAzEC,IAAI,CAACc,KAAK,GAAG;MAAEd,MAAM,EAAEI,KAAK,CAACJ,MAAM,KAAK;IAAI,CAAE;EAChD;EAEOe,iBAAiBA,CAAA;IACtBC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACV,WAAW,CAAC;EACtD;EAEOW,oBAAoBA,CAAA;IACzBF,QAAQ,CAACG,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACZ,WAAW,CAAC;EACzD;EAEOa,MAAMA,CAAA;IACX,MAAMC,EAAA,QAAAjB,KASQ;MATR;QACJJ,MAAM;QACNsB,KAAK;QACLC,SAAS;QACTC,SAAS;QACTC,QAAQ;QACRhB,OAAO;QACPiB;MAAE,IAAAL,EAEU;MADZM,IAAA,GAAAC,OAAA,CAAAC,MAAA,CAAAR,EAAA,6EACY;IAEd,OACE5B,KAAA,CAAAqC,aAAA,CAAClC,eAAe,CAACmC,QAAQ;MACvBC,KAAK,EAAE;QACLhC,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBiC,SAAS,EAAGD,KAAc,IAAM,IAAI,CAAChC,MAAM,GAAGgC;;IAC/C,GAEDvC,KAAA,CAAAqC,aAAA,CAACpC,OAAO,EAAAwC,MAAA,CAAAC,MAAA;MACNZ,SAAS,EAAE/B,UAAU,CACnB,UAAU,EACV;QACE,CAAC,MAAM8B,KAAK,EAAE,GAAGA,KAAK;QACtB,WAAW,EAAE,IAAI,CAACtB,MAAM;QACxB,cAAc,EAAEwB,SAAS;QACzB,OAAO,EAAEE;OACV,EACDH,SAAS,CACV;MACDlB,GAAG,EAAEV,WAAW,CAAC,IAAI,CAACU,GAAG,EAAEoB,QAAQ;IAAC,GAChCE,IAAI,EACR,CACuB;EAE/B;EAEA,IAAY3B,MAAMA,CAAA;IAChB,OAAO,IAAI,CAACI,KAAK,CAACK,OAAO,KAAK,IAAI,GAC9B,IAAI,CAACL,KAAK,CAACJ,MAAM,KAAK,IAAI,GAC1B,IAAI,CAACc,KAAK,CAACd,MAAM;EACvB;EAEA,IAAYA,MAAMA,CAACgC,KAAc;IAC/B,IAAI,IAAI,CAAC5B,KAAK,CAACK,OAAO,KAAK,IAAI,EAAE;MAC/B,IAAI,CAAC2B,QAAQ,CAAC;QAAEpC,MAAM,EAAEgC;MAAK,CAAE,CAAC;;EAEpC;;AAhEc/B,iBAAA,CAAAoC,WAAW,GAAG,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}