{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { Generic } from \"../../base\";\nimport { initialValue, ModalContext } from \"./modal-context\";\nexport class ModalPortal extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.close = () => {\n      if (this.props.onClose !== undefined) {\n        this.props.onClose();\n      }\n    };\n    this.handleKeydown = event => {\n      if (this.props.closeOnEsc === true && event.code === \"Escape\") {\n        this.close();\n      }\n    };\n  }\n  componentDidMount() {\n    const {\n      clipped,\n      document\n    } = this.props;\n    document.addEventListener(\"keydown\", this.handleKeydown);\n    const html = document.querySelector(\"html\");\n    if (html !== null) {\n      if (clipped === true) {\n        html.classList.add(\"is-clipped\");\n      }\n    }\n  }\n  componentWillUnmount() {\n    const {\n      document\n    } = this.props;\n    document.removeEventListener(\"keydown\", this.handleKeydown);\n    const html = document.querySelector(\"html\");\n    if (html !== null) {\n      html.classList.remove(\"is-clipped\");\n    }\n  }\n  render() {\n    const _a = this.props,\n      {\n        className,\n        closeOnBlur,\n        closeOnEsc,\n        innerRef,\n        onClose\n      } = _a,\n      rest = tslib_1.__rest(_a, [\"className\", \"closeOnBlur\", \"closeOnEsc\", \"innerRef\", \"onClose\"]);\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        close: this.close,\n        closeOnBlur: closeOnBlur === true,\n        closeOnEsc: closeOnEsc === true\n      }\n    }, React.createElement(Generic, Object.assign({\n      className: classNames(\"modal\", \"is-active\", className),\n      ref: innerRef\n    }, rest)));\n  }\n}\nModalPortal.defaultProps = {\n  closeOnBlur: initialValue.closeOnBlur,\n  closeOnEsc: initialValue.closeOnEsc\n};\nModalPortal.displayName = \"Modal.Portal\";","map":{"version":3,"names":["classNames","React","Generic","initialValue","ModalContext","ModalPortal","PureComponent","constructor","close","props","onClose","undefined","handleKeydown","event","closeOnEsc","code","componentDidMount","clipped","document","addEventListener","html","querySelector","classList","add","componentWillUnmount","removeEventListener","remove","render","_a","className","closeOnBlur","innerRef","rest","tslib_1","__rest","createElement","Provider","value","Object","assign","ref","defaultProps","displayName"],"sources":["../../../src/components/modal/modal-portal.tsx"],"sourcesContent":[null],"mappings":";AAAA,OAAOA,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,YAAY,EAAEC,YAAY,QAA2B,iBAAiB;AAe/E,OAAM,MAAOC,WAAY,SAAQJ,KAAK,CAACK,aAA+B;EAAtEC,YAAA;;IAwDmB,KAAAC,KAAK,GAAG,MAAK;MAC5B,IAAI,IAAI,CAACC,KAAK,CAACC,OAAO,KAAKC,SAAS,EAAE;QACpC,IAAI,CAACF,KAAK,CAACC,OAAO,EAAE;;IAExB,CAAC;IAEgB,KAAAE,aAAa,GAAIC,KAAoB,IAAI;MACxD,IAAI,IAAI,CAACJ,KAAK,CAACK,UAAU,KAAK,IAAI,IAAID,KAAK,CAACE,IAAI,KAAK,QAAQ,EAAE;QAC7D,IAAI,CAACP,KAAK,EAAE;;IAEhB,CAAC;EACH;EA5DSQ,iBAAiBA,CAAA;IACtB,MAAM;MAAEC,OAAO;MAAEC;IAAQ,CAAE,GAAG,IAAI,CAACT,KAAK;IACxCS,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACP,aAAa,CAAC;IACxD,MAAMQ,IAAI,GAAGF,QAAQ,CAACG,aAAa,CAAC,MAAM,CAAC;IAE3C,IAAID,IAAI,KAAK,IAAI,EAAE;MACjB,IAAIH,OAAO,KAAK,IAAI,EAAE;QACpBG,IAAI,CAACE,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;;;EAGtC;EAEOC,oBAAoBA,CAAA;IACzB,MAAM;MAAEN;IAAQ,CAAE,GAAG,IAAI,CAACT,KAAK;IAC/BS,QAAQ,CAACO,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACb,aAAa,CAAC;IAC3D,MAAMQ,IAAI,GAAGF,QAAQ,CAACG,aAAa,CAAC,MAAM,CAAC;IAE3C,IAAID,IAAI,KAAK,IAAI,EAAE;MACjBA,IAAI,CAACE,SAAS,CAACI,MAAM,CAAC,YAAY,CAAC;;EAEvC;EAEOC,MAAMA,CAAA;IACX,MAAMC,EAAA,QAAAnB,KAOQ;MAPR;QACJoB,SAAS;QACTC,WAAW;QACXhB,UAAU;QACViB,QAAQ;QACRrB;MAAO,IAAAkB,EAEK;MADZI,IAAA,GAAAC,OAAA,CAAAC,MAAA,CAAAN,EAAA,oEACY;IAEd,OACE3B,KAAA,CAAAkC,aAAA,CAAC/B,YAAY,CAACgC,QAAQ;MACpBC,KAAK,EAAE;QACL7B,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBsB,WAAW,EAAEA,WAAW,KAAK,IAAI;QACjChB,UAAU,EAAEA,UAAU,KAAK;;IAC5B,GAEDb,KAAA,CAAAkC,aAAA,CAACjC,OAAO,EAAAoC,MAAA,CAAAC,MAAA;MACNV,SAAS,EAAE7B,UAAU,CAAC,OAAO,EAAE,WAAW,EAAE6B,SAAS,CAAC;MACtDW,GAAG,EAAET;IAAQ,GACTC,IAAI,EACR,CACoB;EAE5B;;AArDc3B,WAAA,CAAAoC,YAAY,GAAG;EAC3BX,WAAW,EAAE3B,YAAY,CAAC2B,WAAW;EACrChB,UAAU,EAAEX,YAAY,CAACW;CAC1B;AACaT,WAAA,CAAAqC,WAAW,GAAG,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}